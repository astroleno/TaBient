产品名称: 浮声 TaBient
文档版本: 1.0
目标平台: Chrome 浏览器插件

1. 产品愿景与价值
一句话介绍: 一款为 Chrome 标签页切换和悬停操作伴随轻盈音效的插件，为用户的日常浏览增添独特的氛围感和趣味性。

产品愿景: 在日趋同质化的浏览器体验中，通过“声音”这个独特的维度，为用户创造一个更具个性、更有温度的数字空间。让每一次标签切换都成为一次微小而愉悦的感官互动。

2. 目标用户
核心用户: 对数字生活有美学追求的年轻用户，如设计师、开发者、音乐爱好者、内容创作者。
次级用户: 喜欢探索新奇工具、热衷于个性化配置的 Chrome 插件爱好者。

3. 功能需求清单 (V1)
模块	功能点	详细描述	优先级
核心体验	Tab 切换音效	当用户切换到新的活动标签页时，根据匹配规则播放指定音效。	最高
音效匹配规则	支持基于域名（如 youtube.com）的规则，若无匹配则播放默认音效。	最高
悬停音效 (侧边栏实现)	在插件的侧边栏 (Side Panel) 中列出当前打开的标签页列表，当鼠标悬停在列表项上时，播放该标签对应的音效作为预览。	高
配置与管理	全局控制	在插件选项页提供全局开关（一键开启/关闭所有效果）和主音量滑动条。	最高
规则管理	用户可以在选项页中添加、修改、删除“域名 -> 音效”的映射规则。	高
自定义音效上传	允许用户上传自己的音频文件（限制格式为 mp3/wav/ogg，大小 < 2MB）到音效库中。	中
静音模式	提供一键暂时静音功能，或可设定特定时间段（如 22:00-08:00）自动静音。	中

4. 非功能性需求
类别	需求描述
性能	插件的后台进程必须轻量，内存占用 < 30MB。音效播放延迟应低于 100ms，确保操作的跟手感。
兼容性	稳定支持最新版的 Chrome 浏览器。应能在 Edge 等其他 Chromium 内核浏览器上正常运行。
隐私与安全	所有用户配置（规则、自定义音效）均存储在本地 chrome.storage 中，绝不上传任何用户数据。
技术约束	严格遵守 Chrome Manifest V3 规范，不注入或修改浏览器原生 UI，音效播放必须通过 chrome.offscreen API 实现。

5. MVP (最小可行产品) 范围
核心功能: 仅实现 Tab 切换音效，提供 3-5 个固定的内置音效。

配置功能: 提供一个最简化的选项页，仅包含：全局开关、主音量调节、域名与内置音效的映射规则管理。
暂不包含: 自定义音效上传、悬停预览、静音模式等。

3. 技术栈选型与说明
这份文件主要面向开发人员，阐述技术选型的理由。

技术分类	选择项	理由
平台规范	Chrome Extension (Manifest V3)	遵循 Google 官方最新的插件标准，以获得更好的安全性、性能和未来的兼容性。
开发语言	TypeScript	为项目引入静态类型，提高代码的可维护性和健壮性，减少运行时错误，尤其适合逻辑复杂的插件项目。
核心 API	chrome.tabs.onActivated	插件的核心事件监听器，用于精确捕捉用户切换活动标签页的动作。
chrome.offscreen	Manifest V3 的关键 API。由于 Service Worker 会在不活动时休眠，无法直接播放音频，此 API 用于创建一个临时的、不可见的文档来稳定地处理音频播放任务。
chrome.storage.sync/local	用于持久化存储用户的配置数据（如音效规则、音量等）。sync 可在用户登录同一谷歌账户的设备间同步。
chrome.sidePanel	实现“悬停预览音效”功能的最佳选择，提供一个独立于页面内容的交互空间，用户体验好。
构建工具	Vite	提供极快的冷启动和热更新速度，显著提升开发体验。内置对 TypeScript、React 等的良好支持，配置简单。
UI 方案	原生 HTML/CSS/JS 或 React + Tailwind CSS	对于简单的选项页，原生技术足够轻量。若未来配置项变得复杂，使用 React 进行组件化开发，并配合 Tailwind CSS 快速构建现代化 UI，将是更高效的选择。